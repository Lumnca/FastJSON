# :carousel_horse:基本语法 #

### :statue_of_liberty:将 Java 对象转换为 JSON 格式 ###

首先先看例子：

对象Students类：

```java
public class Students   {
      public   String name;
      public   int id;
      public  Students(String _name,int _id)
      {
          this.name = _name;
          this.id = _id;
     }

}
```

然后在测试类中运行：

```java
    public  static void main(String arg[])
    {
        Students stu = new Students("Lumnca",20170329);

        String jsonText = JSON.toJSONString(stu);

        System.out.println(jsonText);
    }
```

注意一点的是我们的Students类属性是公有的，不要忘记引入包：

`import com.alibaba.fastjson.*;`

然后点击运行，可以看到控制台内容为：

`{"id":20170329,"name":"Lumnca"}`

可以看出，这就是JSON的数据格式。现在我们把Students类属性改为私用字段：

```java
public class Students   {
      private  String name;
      private  int id;
      public  Students(String _name,int _id)
      {
          this.name = _name;
          this.id = _id;
     }
}

然后在测试类运行会发现控制台输出为： `{}` 这是由于对象的属性为私用，不能从外界访问，导致不能成功解析为JSON格式。那么如果属性为私有格式，那该怎么做呢？与私用属性访问的道理一样，我们只需要设置访问方法，如下：

```java
public class Students   {
      private  String name;
      private  int id;
      public  Students(String _name,int _id)
      {
          this.name = _name;
          this.id = _id;
     }

    public int getId(){
          return  id;
    }
    public String getName(){
          return  name;
    }
}

```
现在再在测试类运行就可以看到JSON字符串了，但是有几个注意的点，属性名最好以小写字母开头。最重要的是访问方法的名字不能是任意命名，必须为get+属性名（首字母大写）如上面的getId，getName。在你输入get的时候就会自动弹出这个方法名。设置了所有的属性可访问方法后就可以将所有能访问的属性转化为JSON。

所以FastJson只能将能够外部能够访问类的属性转化为JSON字符。方法 JSON.toJSONString(obj)能够将obj转化为JSON，这个参数只能为对象。

### :statue_of_liberty:FastJson注解 ###

**@JSONField**

@JSONField ：指定字段的名称，默认情况下字段名为属性名，但是我们可以通过这个就行修改：

```java
public class Students   {
    @JSONField(name = "学生姓名")
      private  String name;
    @JSONField(name = "学生学号")
      private  int id;
      public  Students(String _name,int _id)
      {
          this.name = _name;
          this.id = _id;
     }

    public int getId(){
          return  id;
    }
    public String getName(){
          return  name;
    }
}
```

再次运行测试类：

```java
    public  static void main(String arg[])
    {
        Students stu = new Students("Lumnca",20170329);

        String jsonText = JSON.toJSONString(stu);

        System.out.println(jsonText);
    }
```

控制台输出以下内容：

`{"学生姓名":"Lumnca","学生学号":20170329}`

可以看到我们修改了字段名称。注意的是这个注解可以写在字段上面也可以写在get方法上。所有字段一律是name = "修改内容"，并不是： 字段名 ="修改内容"。我们这里name只是重名而已。






